@model Wolfpack.Web.Models.Event.TeamVM
@{
    ViewBag.Title = "Team";
}

<h2>Team</h2>
<p>
    @Model.Name
</p>
<div id="chartDiv"></div>
<ul>
    @foreach (var User in Model.Users)
    {
        <li>@User.FirstName @User.LastName</li>
        foreach (var Skill in User.SkillRatings)
        {
            <p>
                @Skill.Name: @Skill.Mark
            </p>
        }
    }
</ul>

@section scripts {
<script type="text/javascript">
    var chartConfig = {
        "type": 'radar',
        "title": {
            "text": 'Skills'
        },
        "legend": {},
        "series": [
            @foreach (var User in Model.Users)
            {
                <text>
                {
                "values": @Html.Raw(Json.Encode(User.SkillRatings.Select(s => s.Mark).ToList().ToArray())),
                "text": "@User.FirstName @User.LastName",
                },
                </text>
            }
        ],
        "scale-v": {
            "values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
        },
        "scale-k": {
            "values": @Html.Raw(Json.Encode(Model.SkillNames.ToArray()))
        },
        "plot": {
            "aspect": "area",
        },
        "plotarea": {
            "margin": 'dynamic'
        },
    };

    zingchart.render({
        id: 'chartDiv',
        data: chartConfig,
        height: 800,
        width: '100%'
    });
</script>    
}

